<img *ngIf="this.originalImage" src={{this.originalImage}} alt="Original Image" width="100%">
<form nz-form>
    <!-- TODO: use upload component when API integration has been developed -->
    <input name="image" type="file" (change)="uploadImage($event)" />
    <p nz-typography *ngIf="encodingService.mimeType">Media type of {{ encodingService.mimeType }}</p>
    <p nz-typography>Current generation: {{ epoch }}</p>
    <nz-form-item>
        <nz-form-label nzFor="generationSize">Generation size</nz-form-label>
        <nz-input-number name="generationSize" [nzMax]="10" [nzMin]="1" [(ngModel)]="generationSize">
        </nz-input-number>
    </nz-form-item>
    <button nz-button (click)="previousGeneration()" *ngIf="epoch > 0">Previous Generation</button>
    <button nz-button (click)="redoGeneration()" *ngIf="epoch > 0">Regenerate</button>
    <button nz-button (click)="resetEvolution()" *ngIf="generatedImages.length">Reset Evolution</button>
</form>

<app-find-and-replace [maxLength]="originalImage.length / 2" *ngIf="originalImage"
    (onCreateGeneration)="this.createGeneration($event)"></app-find-and-replace>
<app-swap-image-data [maxLength]="originalImage.length / 2" *ngIf="originalImage"
    (onCreateGeneration)="this.createGeneration($event)">
</app-swap-image-data>
<div class="image-wrapper">
    <app-canvas *ngFor="let image of generatedImages" [modifiedImage]="image"></app-canvas>
</div>